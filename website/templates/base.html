<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js"></script>


  <script src="https://kit.fontawesome.com/e24507d923.js" crossorigin="anonymous"></script>
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css" />


  <link rel="stylesheet" href="{{ url_for('static', filename='css/all.min.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

  <title>Wind | {% block title %} {% endblock %}</title>
</head>

<body class="bg-light">

  <!-- Navbar Section -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top shadow-sm py-3">
    <div class="container-fluid px-4">

      <!-- Left: Logo & Bize Ulaşın -->
      <div class="d-flex align-items-center me-4">
        <button class="btn btn-link text-dark me-3 d-lg-none" type="button" data-bs-toggle="offcanvas"
          data-bs-target="#mobileMenu">
          <i class="fa-solid fa-bars fs-4"></i>
        </button>
        <a class="navbar-brand d-flex align-items-center gap-2" href="/" style="margin-right: 20px;">
          <div class="brand-icon">
            <i class="fa-brands fa-wind fa-lg text-primary"></i>
          </div>
          <span class="brand-text fw-bold" style="color: #333; font-size: 24px;">Wind</span>
        </a>
        <a class="nav-link text-muted d-none d-md-block" href="#" style="font-size: 14px;">Bize Ulaşın</a>
      </div>

      <!-- Center: Search Bar -->
      <div class="flex-grow-1 mx-lg-5">
        <form class="d-flex w-100" role="search" action="/search" method="POST">
          <div class="input-group">
            <input class="form-control border-end-0 bg-light" name="search" type="search"
              placeholder="Ürün, kategori veya marka ara..." aria-label="Search" style="border-color: #e0e0e0;">
            <button class="btn btn-warning text-white px-4 fw-bold" type="submit"
              style="background-color: #ff9900; border-color: #ff9900;">
              <i class="fa-solid fa-magnifying-glass"></i>
            </button>
          </div>
        </form>
      </div>

      <!-- Right: Cart, Favorites, Account -->
      <div class="d-flex align-items-center justify-content-end ms-4">

        <!-- Cart -->
        <div class="nav-item mx-2">
          <a class="nav-link position-relative text-dark d-flex flex-column align-items-center" href="/cart">
            <div class="icon-wrapper">
              <i class="fa-solid fa-cart-shopping fs-5"></i>
              {% if cart | length > 0 %}
              <span
                class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger border border-light"
                style="font-size: 0.6rem;">
                {{ cart | length }}
              </span>
              {% endif %}
            </div>
            <span class="d-none d-lg-block small mt-1">Sepet</span>
          </a>
        </div>

        <!-- Favorites -->
        <div class="nav-item mx-2 d-none d-sm-block">
          <a class="nav-link text-dark d-flex flex-column align-items-center" href="#">
            <i class="fa-regular fa-heart fs-5"></i>
            <span class="d-none d-lg-block small mt-1">Favoriler</span>
          </a>
        </div>

        <!-- Account Dropdown -->
        <div class="nav-item dropdown mx-2">
          <a class="nav-link dropdown-toggle text-dark d-flex flex-column align-items-center" href="#" role="button"
            id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fa-regular fa-user fs-5"></i>
            <span class="d-none d-lg-block small mt-1">Hesap</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end shadow border-0" aria-labelledby="profileDropdown">
            {% if current_user.is_authenticated %}
            <li>
              <h6 class="dropdown-header">Merhaba, {{ current_user.first_name }}</h6>
            </li>
            <li><a class="dropdown-item" href="/profile/{{ current_user.id }}"><i
                  class="fa-solid fa-id-card me-2 text-muted"></i> Profil</a></li>
            <li><a class="dropdown-item" href="/orders"><i class="fa-solid fa-box-open me-2 text-muted"></i>
                Siparişlerim</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item text-danger" href="/logout"><i class="fa-solid fa-right-from-bracket me-2"></i>
                Çıkış Yap</a></li>
            {% else %}
            <li><a class="dropdown-item" href="/login"><i class="fa-solid fa-right-to-bracket me-2 text-primary"></i>
                Giriş Yap</a></li>
            <li><a class="dropdown-item" href="/auth/sign-up"><i class="fa-solid fa-user-plus me-2 text-primary"></i>
                Kayıt Ol</a></li>
            {% endif %}
          </ul>
        </div>

      </div>
    </div>
  </nav>


  {% for message in get_flashed_messages() %}
  <div class="container mt-3">
    <div class="alert alert-info alert-dismissible fade show shadow-sm border-0" role="alert">
      <i class="fa-solid fa-circle-info me-2"></i> {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  </div>
  {% endfor %}

  <!-- Main Content -->
  <div class="main-content">
    {% block body %}
    {% endblock %}
  </div>


  <!-- Footer -->
  <footer class="mt-auto py-4 text-center" style="background-color: #232f3e; color: #ddd;">
    <div class="container">
      <div class="d-flex justify-content-center align-items-center gap-3 mb-2">
        <i class="fa-brands fa-wind fa-xl"></i>
        <span class="h5 mb-0">Wind</span>
      </div>
      <p class="small mb-0">&copy; 2025 Tüm hakları saklıdır.</p>
    </div>
  </footer>

  <script src="{{ url_for( 'static', filename='js/owl.carousel.min.js') }}"></script>
  <script src="{{ url_for( 'static', filename='js/all.min.js') }}"></script>
  <script src="{{ url_for( 'static', filename='js/jquery.js') }}"></script>
  <script src="{{ url_for( 'static', filename='js/myScript.js') }}"></script>

</body>

</html>